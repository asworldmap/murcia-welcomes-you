<div class="container" style="padding-top: 100px;">
    <div style="text-align: center; margin-bottom: 60px;">
        <h1 class="animate-title" style="font-size: 3.5rem; color: var(--primary);">All Activities</h1>
        <p class="animate-subtitle" style="font-size: 1.2rem; max-width: 700px; margin: 20px auto;">
            Explore everything happening in January. Filter by type or browse them all!
        </p>
    </div>

    <!-- Filter Buttons -->
    <div style="display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-bottom: 50px;">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="Social">ğŸ² Social</button>
        <button class="filter-btn" data-filter="Sport">ğŸ’ª Sport</button>
        <button class="filter-btn" data-filter="Hiking">ğŸ¥¾ Hiking</button>
        <button class="filter-btn" data-filter="Dance">ğŸ’ƒ Dance</button>
        <button class="filter-btn" data-filter="Creative">ğŸ¨ Creative</button>
        <button class="filter-btn" data-filter="Interest">ğŸ§  Tech</button>
        <button class="filter-btn" data-filter="Special">â­ Special</button>
    </div>

    <!-- Activities Grid -->
    <div class="grid" id="activities-grid">
        <% activities.forEach(activity=> { %>
            <div class="card activity-card" data-type="<%= activity.type %>"
                style="position: relative; overflow: hidden;">
                <% if (activity.image) { %>
                    <img src="<%= activity.image %>" alt="<%= activity.title %>"
                        style="width: 100%; height: 200px; object-fit: cover; border-radius: 20px 20px 0 0; margin: -30px -30px 20px -30px;">
                    <% } %>
                        <div
                            style="position: absolute; top: 10px; right: 10px; background: var(--naif-yellow); padding: 5px 15px; border-radius: 20px; font-size: 0.85rem; font-weight: 700;">
                            <%= activity.type %>
                        </div>
                        <h3 class="card-title" style="color: var(--naif-orange); margin-top: 10px;">
                            <%= activity.title %>
                        </h3>
                        <p style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 15px;">
                            ğŸ•’ <%= activity.time %> | ğŸ“ <%= activity.location %>
                        </p>
                        <p style="margin-bottom: 20px;">
                            <%= activity.description %>
                        </p>

                        <% if (activity.days && activity.days.length> 0) { %>
                            <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px;">
                                <% activity.days.forEach(day=> { %>
                                    <span
                                        style="background: var(--naif-mint); padding: 5px 12px; border-radius: 15px; font-size: 0.85rem; font-weight: 600;">
                                        Jan <%= day %>
                                    </span>
                                    <% }) %>
                            </div>
                            <% } %>

                                <a href="/activities/<%= activity.slug %>" class="btn"
                                    style="width: 100%; padding: 10px; font-size: 0.95rem;">Reserve Spot</a>
            </div>
            <% }) %>
    </div>
</div>

<style>
    .filter-btn {
        background: white;
        border: 2px solid var(--naif-mint);
        padding: 10px 20px;
        border-radius: 25px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
    }

    .filter-btn:hover,
    .filter-btn.active {
        background: var(--naif-purple);
        color: white;
        border-color: var(--naif-purple);
        transform: translateY(-2px);
    }

    .activity-card {
        transition: var(--transition);
    }

    .activity-card.hidden {
        display: none;
    }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script>
    // GSAP Animations
    gsap.from(".animate-title", { opacity: 0, y: -30, duration: 1, ease: "power2.out" });
    gsap.from(".animate-subtitle", { opacity: 0, y: -20, delay: 0.2, duration: 1 });
    gsap.from(".filter-btn", { opacity: 0, scale: 0.8, stagger: 0.05, delay: 0.4, duration: 0.6 });
    gsap.from(".activity-card", { opacity: 0, y: 30, stagger: 0.1, delay: 0.6, duration: 0.8 });

    // Filter functionality
    const filterBtns = document.querySelectorAll('.filter-btn');
    const activityCards = document.querySelectorAll('.activity-card');

    filterBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const filter = btn.dataset.filter;

            // Update active button
            filterBtns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // Filter cards
            activityCards.forEach(card => {
                if (filter === 'all' || card.dataset.type === filter) {
                    card.classList.remove('hidden');
                    gsap.from(card, { opacity: 0, scale: 0.9, duration: 0.4 });
                } else {
                    card.classList.add('hidden');
                }
            });
        });
    });
</script>