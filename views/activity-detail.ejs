<div class="container" style="padding-top: var(--space-6);">
    <a href="/activities"
        style="display: inline-flex; align-items: center; gap: var(--space-2); font-weight: 700; color: var(--primary); margin-bottom: var(--space-5);">
        ‚Üê All Activities
    </a>

    <div class="product-hero">
        <div class="product-visual"
            style="background: var(--primary-light); aspect-ratio: 1; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; font-size: 8rem;">
            <%= activity.emoji %>
        </div>

        <div class="product-info">
            <div class="product-meta">
                <span class="badge badge-primary">
                    <%= activity.category %>
                </span>
                <% if (activity.recurrence==='weekly' ) { %>
                    <span class="badge badge-success">Weekly Event</span>
                    <% } %>
            </div>

            <h1>
                <%= activity.name %>
            </h1>
            <p style="font-size: 1.25rem; color: var(--primary); font-weight: 700; margin-bottom: var(--space-4);">
                <%= activity.tagline %>
            </p>

            <p style="color: var(--text-soft); font-size: 1.1rem; line-height: 1.6; margin-bottom: var(--space-5);">
                <%= activity.description %>
            </p>

            <div class="product-price-box">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h4 style="margin-bottom: var(--space-1);">FreeTour Model</h4>
                        <p style="font-size: 0.9rem; color: var(--text-soft);">Contribution based on experience</p>
                    </div>
                    <span style="font-size: 1.5rem; font-weight: 800; color: var(--primary);">‚Ç¨0*</span>
                </div>
            </div>

            <div style="display: flex; gap: var(--space-3);">
                <% if (sessions.length> 0) { %>
                    <a href="#sessions" class="btn" style="flex: 1;">Join Next Session</a>
                    <% } else { %>
                        <button class="btn" disabled style="flex: 1; opacity: 0.5;">No sessions scheduled</button>
                        <% } %>
            </div>
        </div>
    </div>

    <div class="product-content">
        <div class="content-main">
            <section style="margin-bottom: var(--space-6);">
                <h3 style="margin-bottom: var(--space-4);">Details</h3>
                <div style="display: grid; gap: var(--space-4);">
                    <div style="display: flex; gap: var(--space-3);">
                        <div style="font-size: 1.5rem;">üïí</div>
                        <div>
                            <h4 style="font-size: 1rem;">Schedule</h4>
                            <p style="color: var(--text-soft); font-size: 0.95rem;">
                                <%= activity.schedule %>
                            </p>
                        </div>
                    </div>
                    <div style="display: flex; gap: var(--space-3);">
                        <div style="font-size: 1.5rem;">üë§</div>
                        <div>
                            <h4 style="font-size: 1rem;">Who is it for</h4>
                            <p style="color: var(--text-soft); font-size: 0.95rem;">
                                <%= activity.who_for %>
                            </p>
                        </div>
                    </div>
                    <div style="display: flex; gap: var(--space-3);">
                        <div style="font-size: 1.5rem;">üéí</div>
                        <div>
                            <h4 style="font-size: 1rem;">What to bring</h4>
                            <p style="color: var(--text-soft); font-size: 0.95rem;">
                                <%= activity.what_to_bring %>
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="sessions" style="margin-bottom: var(--space-6);">
                <h3 style="margin-bottom: var(--space-4);">Upcoming Sessions</h3>
                <div style="display: grid; gap: var(--space-3);">
                    <% sessions.forEach(session=> { %>
                        <div class="card"
                            style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-3) var(--space-4);">
                            <div>
                                <h4 style="font-size: 1rem;">
                                    <%= session.date %>
                                </h4>
                                <p style="font-size: 0.85rem; color: var(--text-soft);">
                                    <%= session.time %>
                                </p>
                            </div>
                            <div style="display: flex; align-items: center; gap: var(--space-4);">
                                <% const count=rsvps[session.id] ? rsvps[session.id].length : 0; %>
                                    <span style="font-size: 0.85rem; font-weight: 700; color: var(--primary);">
                                        <%= count %>
                                            <%= count===1 ? 'person' : 'people' %> going
                                    </span>
                                    <a href="/event/<%= session.id %>" class="btn btn-soft"
                                        style="padding: var(--space-2) var(--space-4);">Register ‚Üí</a>
                            </div>
                        </div>
                        <% }) %>
                            <% if (sessions.length===0) { %>
                                <p style="color: var(--text-muted); font-style: italic;">We are planning the next dates.
                                    Stay tuned!</p>
                                <% } %>
                </div>
            </section>
        </div>

        <aside class="content-sidebar">
            <div class="card" style="position: sticky; top: 120px; background: var(--bg-soft); border: none;">
                <h4 style="margin-bottom: var(--space-3);">The FreeTour Model</h4>
                <p style="font-size: 0.9rem; color: var(--text-soft); line-height: 1.6; margin-bottom: var(--space-3);">
                    There is no fixed price. Participants contribute voluntarily at the end of the activity based on
                    their experience.
                </p>
                <div style="border-top: 1px solid var(--border-soft); padding-top: var(--space-3);">
                    <p style="font-size: 0.75rem; color: var(--text-muted);">* Registration is mandatory for
                        organization.</p>
                </div>
            </div>
        </aside>
    </div>
</div>